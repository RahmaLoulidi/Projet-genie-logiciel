<app-header></app-header>
<app-side-navbar></app-side-navbar>
<app-side-bar-chat></app-side-bar-chat>
<div class="content-wrapper" id="main-container">
   <div class="container-fluid">
<div class="card">
        <div class="card-header">
           <h5 class="card-header-text">Liste des pannes</h5>
        </div>
       
        <div class="card-block">
           <div class="row">
              <div class="col-sm-12 table-responsive">
                 <table class="table">
                    <thead>
                       <tr>
                          <th>#</th>
                        
         
                          <th>Date</th>
                          <th>Explication panne</th>
                          <th>Rédiger constat</th>
                 
    
                       </tr>
                    </thead>
                    <tbody>
                       <tr *ngFor="let panne of pannes">
                          <td>{{panne.id}} </td>

                          <td >  {{panne.datePanne}} </td>
                         
                          <td >  {{panne.explication}} </td>
                          
                         
                          <td> <button type="submit" class="btn btn-success waves-effect waves-light" (click)="onAjouterConstat(panne.id,'addC')" >Ajouter</button></td>
               
                       </tr>
                      
    
                    </tbody>
                 </table>
              </div>
     


</div>

  <!-- Add Constat Modal -->
  <div class="modal fade" id="addConstatModal" tabindex="-1" role="dialog" aria-labelledby="addConstatModalLabel" aria-hidden="true">
   <div class="modal-dialog" role="document">
     <div class="modal-content">
        <div class="modal-header">
           <h5 class="modal-title" id="addConstatModalLabel">Ajouter Constat</h5>
           <button type="button" class="close" data-dismiss="modal" aria-label="Close">
           <span aria-hidden="true">&times;</span>
           </button>
        </div>
        <div class="modal-body">
           <form #addConstat="ngForm" (ngSubmit)="onSubmitConstat(addConstat)">
            <div class="form-group">
              <label for="codeBarre">Explication</label>
              <input type="text" class="form-control" [(ngModel)]="constat.explication" name="explicationC" id="explicationC" placeholder="explication" required>
           </div>
           <div class="form-group">
              <label for="dateLivraison">Date d'Apparition'</label>
              <input class="form-control" type="date" id="dateApp" [(ngModel)]="constat.dateApparition" name="dateApp">
           </div>
           <div class="form-group">
            <label for="codeBarre">Fréquence</label>
            
            <select id="frequence" name="frequence" id="Frequence" [(ngModel)]="constat.frequence" name="frequence">
               <option value="rare" selected>rare</option>
               <option value="fréquente">fréquente</option>
               <option value="permanente">permanente</option>
            
             </select>
         </div>
         <div class="form-group">
            <label for="codeBarre">Ordre</label>
            <select  value="Matériel" id="ordre" name="ordre" id="Ordre" [(ngModel)]="constat.ordre" name="ordre" >
               <option value="Matériel" selected>Matériel</option>
               <option value="Logiciel" *ngIf="!isPrinter">Logiciel</option>
            
             </select>
         </div>
           
           <div class="modal-footer">
              <button [disabled]="addConstat.invalid" type="submit" class="btn btn-primary" >Enregistrer</button>
           </div>
           </form>
        </div>
     </div>
   </div>



   </div>



 

 