<app-header></app-header>
<app-side-navbar></app-side-navbar>
<app-side-bar-chat></app-side-bar-chat>
<div class="content-wrapper" id="main-container">
   <div class="container-fluid">
<div class="card">
          <div *ngIf="messageAdd" class="alert alert-success">{{ messageAdd }}</div>
         <div *ngIf="messageEdit" class="alert alert-info">{{ messageEdit }}</div>
         <div *ngIf="messageDelete" class="alert alert-danger">{{ messageDelete }}</div>

        <div class="card-header">
           <h5 class="card-header-text">Liste des pannes</h5>
        </div>
        
        <div class="card-block">
           <div class="row">
              <div class="col-sm-12 table-responsive">
                 <table class="table">
                    <thead>
                       <tr>
                          <th>#</th>
                        
         
                          <th>Date</th>
                          <th>Explication panne</th>
                          <th>Modifier</th>
                          <th>Supprimer</th>
                        
                 
    
                       </tr>
                    </thead>
                    <tbody>
                       <tr *ngFor="let panne of pannes">
                          <td>{{panne.id}} </td>
                  
                          <td >  {{panne.datePanne}} </td>
                         
                          <td >  {{panne.explication}} </td>
                          <td> <button (click)="onUpdatePanne(panne.id,'update')" type="submit" class="btn btn-success waves-effect waves-light" >Modifier</button></td>
                          <td> <button (click)="onDeletePanne(panne.id)" type="submit" class="btn btn-danger waves-effect waves-light" >Supprimer</button></td>
                        
                          
                       </tr>
                      
    
                    </tbody>
                 </table>
              </div>
     
</div>





</div>
<!-- Add Panne Modal -->
<div class="modal fade" id="addPanneModal" tabindex="-1" role="dialog" aria-labelledby="addPanneModalLabel" aria-hidden="true">
   <div class="modal-dialog" role="document">
     <div class="modal-content">
        <div class="modal-header">
           <h5 class="modal-title" id="addPanneModalLabel">Ajouter Panne</h5>
           <button type="button" class="close" data-dismiss="modal" aria-label="Close">
           <span aria-hidden="true">&times;</span>
           </button>
        </div>
        <div class="modal-body">
           <form #addPanne="ngForm" (ngSubmit)="onSubmit(addPanne)">
            <div class="form-group">
              <label for="codeBarre">Explication</label>
              <input type="text" class="form-control" [(ngModel)]="panne.explication" name="explication" id="explication" placeholder="explication" required>
           </div>
           <div class="form-group">
              <label for="dateLivraison">Date de panne</label>
              <input class="form-control" type="date" id="datePanne" [(ngModel)]="panne.datePanne" name="datePanne" >
           </div>
           
           <div class="modal-footer">
              <button [disabled]="addPanne.invalid" type="submit" class="btn btn-primary" >Enregistrer</button>
           </div>
           </form>
        </div>
     </div>
   </div>

</div>
</div>
</div>
</div>

<!-- Update Panne Modal -->
<div class="modal fade" id="updatePanneModal" tabindex="-1" role="dialog" aria-labelledby="updatePanneModalLabel" aria-hidden="true">
   <div class="modal-dialog" role="document">
     <div class="modal-content">
        <div class="modal-header">
           <h5 class="modal-title" id="updatePanneModalLabel">Modifier Panne</h5>
           <button type="button" class="close" data-dismiss="modal" aria-label="Close">
           <span aria-hidden="true">&times;</span>
           </button>
        </div>
        <div class="modal-body">
           <form #updatePanne="ngForm" (ngSubmit)="onUpdate(updatePanne)" >
            <div class="form-group">
              <label for="codeBarre">Explication</label>
              <input type="text" class="form-control" [(ngModel)]="panne.explication" value="panne.expli
              " name="explication" id="explication" placeholder="explication" required>
           </div>
           <div class="form-group">
              <label for="dateLivraison">Date de panne</label>
              <input class="form-control" value="panne.datePanne" type="date" id="datePanne" [(ngModel)]="panne.datePanne" name="datePanne" >
           </div>
           
           <div class="modal-footer">
              <button [disabled]="updatePanne.invalid" type="submit" class="btn btn-primary" >Enregistrer</button>
           </div>
           </form>
        </div>
     </div>
   </div>
 
   </div>